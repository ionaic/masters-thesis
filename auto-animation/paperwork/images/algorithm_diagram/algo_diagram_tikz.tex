\documentclass[border=5pt]{standalone}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{tikz}
\usetikzlibrary{fit,positioning,shapes,arrows}
\pgfdeclarelayer{l1}
\pgfdeclarelayer{l2}
\pgfsetlayers{l1,l2,main}

\makeatletter
\pgfkeys{%
  /tikz/node on layer/.code={
    \gdef\node@@on@layer{%
      \setbox\tikz@tempbox=\hbox\bgroup\pgfonlayer{#1}\unhbox\tikz@tempbox\endpgfonlayer\egroup}
    \aftergroup\node@on@layer
  },
  /tikz/end node on layer/.code={
    \endpgfonlayer\endgroup\endgroup
  }
}

\def\node@on@layer{\aftergroup\node@@on@layer}
\makeatother

%\tikzset{
 % lvl1/.style={draw,fill=blue!50,rounded corners=0.5cm,inner sep=12pt,node on layer=l1},
 % lvl2/.style={draw,fill=blue!25,rounded corners=0.5cm,inner sep=8pt,node on layer=l2},
 % lvl3/.style={draw=blue,fill=white,dashed,rounded corners=0.25cm,align=flush center,text width=12em,inner sep=4pt,minimum height=1.5cm},
 % title/.style={font=\LARGE},
 % myarrow/.style={latex-latex,ultra thick,blue!80},
%}

\begin{document}
% Define stage styles
\tikzstyle{stage} = [rectangle, draw, fill=blue!20, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{data} = [draw, cylinder, shape border rotate=90, aspect=0.25, fill=red!20, node distance=3cm, minimum height=2em, text centered]
\tikzstyle{lvl1} = [draw,fill=blue!50,rounded corners=0.5cm,inner sep=12pt,node on layer=l1]
\tikzstyle{lvl2} = [draw,fill=blue!25,rounded corners=0.5cm,inner sep=8pt,node on layer=l2]
\tikzstyle{lvl3} = [draw=blue,fill=white,dashed,rounded corners=0.25cm,align=flush center,text width=12em,inner sep=4pt,minimum height=1.5cm]
\tikzstyle{title} = [font=\LARGE]
\tikzstyle{myarrow} = [latex-latex, ultra thick, blue!80]
%\tikzstyle{ghost} = [draw=none, fill=none, text width=-1em, minimum width=1mm]

\newcommand{\nodebox}[2]{\parbox[c]{#1}{\centering #2}}

\begin{tikzpicture}[node distance = 2cm, auto]
    % Place nodes
    \node [stage] (path) {\nodebox{10em}{Path Estimate \[a = \dfrac{2 (x - x_0 - v_0 t)}{t^2} \]}};
    \node [data, left of=path](t){\nodebox{4em}{Time ($t$)}};
    \node [data, above of=path] (xf) {\nodebox{4em}{Target Position ($x$)}};
    \node [data, left of=xf] (xi) {\nodebox{4em}{Initial Position ($x_0$)}};
    \node [data, right of=xf] (vi) {\nodebox{4em}{Initial Velocity ($v_0$)}};
    \node [data, right of=path] (mass) {\nodebox{7em}{Body Mass ($\left\lbrace m_0, \ldots, m_n\right\rbrace$)}};
    \node [data, below of=path] (accel) {\nodebox{6em}{Acceleration ($a$)}};
    \node [stage, below of=accel] (bend) {Bend Phase};
    \node [stage, below of=bend] (unbend) {Unbend Phase};
    % Draw edges
    \path [line, dashed] (path) -- (accel);
    \path [line, dashed] (accel) -- (bend);
    \path [line] (bend) -- (unbend);
   % \path [line] (decide) -| node [near start] {yes} (update);
    \path [line,dashed] (xi) -- (path);
    \path [line,dashed] (xf) -- (path);
    \path [line,dashed] (t) -- (path);
    \path [line,dashed] (vi) -- (path);
    \path [line,dashed] (mass) -- (path);
\end{tikzpicture}

\begin{tikzpicture}
	\node[lvl3] (1) {1. Analyze problem domain};
	\node[lvl3,right=of 1] (2) {2. Identify actores and organization structure}; 
	\node[lvl3,right=of 2] (3) {3. Identify and describe system objectives}; 
	\node[lvl3,below=of 1] (4) {4. Identify requirements in system objectives};
	\node[lvl3,right=of 4] (5) {5. Organize requirements and objectives};
	\node[lvl3,right=of 5] (6) {6. Gather and organize in System Requirements Document};
	\node[lvl2,fit=(1) (2) (3) (4) (5) (6)] (group1) {};
	\node[title,above=0.2cm of group1] (title1) {Requirements gathering};
	\node[lvl1,fit=(title1) (group1)] {Test};
	\node[lvl3,below=3cm of 4] (roleID) {Identification and description of Roles};
	\draw[myarrow] (roleID.north)--(4.south);
\end{tikzpicture}
\end{document}